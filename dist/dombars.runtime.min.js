!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.DOMBars=e()}}(function(){return function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){var n=e("./lib/base"),r=e("./lib/safe-string"),i=e("./lib/exception"),s=e("./lib/utils"),a=e("./lib/runtime");t.exports=function o(){var e=new n.DOMBarsEnvironment;return s.extend(e,n),e.VM=a,e.Utils=s,e.create=o,e.Exception=i,e.SafeString=r,e.template=function(t){return a.template(t,e)},e}()},{"./lib/base":2,"./lib/exception":3,"./lib/runtime":5,"./lib/safe-string":6,"./lib/utils":8}],2:[function(e,t){var n=e("handlebars/dist/cjs/handlebars/base"),r=e("./utils"),i=n.HandlebarsEnvironment,s=t.exports=r.create(n),a=function(e){e.registerHelper("each",function(e,t){var n,i=t.fn,s=t.inverse,a=document.createDocumentFragment(),o=0;if("function"==typeof e&&(e=e.call(this)),t.data&&(n=r.create(t.data)),"object"==typeof e){var u=e.length;if(u===+u)for(;u>o;o++)n.index=o,n.first=0===o,n.last=o===u-1,a.appendChild(i(e[o],{data:n}));else for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(o+=1,n.key=c,n.index=o,n.first=0===o,a.appendChild(i(e[c],{data:n})))}return 0===o?s(this):a})},o=s.DOMBarsEnvironment=function(){i.apply(this,arguments),a(this)},u=o.prototype=r.create(i.prototype);u.createFrame=n.createFrame,u.REVISION_CHANGES=n.REVISION_CHANGES,u.COMPILER_REVISION=n.COMPILER_REVISION,u.get=function(e,t){return e[t]},u.subscribe=u.unsubscribe=function(){}},{"./utils":8,"handlebars/dist/cjs/handlebars/base":9}],3:[function(e,t){t.exports=e("handlebars/dist/cjs/handlebars/exception")["default"]},{"handlebars/dist/cjs/handlebars/exception":10}],4:[function(e,t,n){(function(e){!function(r,i,s){var a=function(){var e=s.now||function(){return(new s).getTime()},t=e();return function(n){var i=e(),s=Math.max(0,16-(i-t)),a=r(n,s);return t=i,a}};n=t.exports=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||a();var o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.msCancelAnimationFrame||e.oCancelAnimationFrame||i;n.cancel=function(e){o(e)}}(setTimeout,clearTimeout,Date)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t){var n=e("handlebars/dist/cjs/handlebars/runtime"),r=e("./utils"),i=e("./raf"),s={INPUT:{value:"value",checked:"checked"},OPTION:{selected:"selected"}},a=function(e,t,n){for(var r in e)for(var i in e[r])t.call(n,e[r][i],i,r)},o=function(e,t,n){this._fn=e,this._update=t,this._container=n,this.cid="c"+r.uniqueId(),this.children={},this.subscriptions={},this.unsubscriptions=[],this.boundUpdate=r.bind(this.update,this),this.boundUnsubscription=r.bind(this.unsubscription,this)};o.prototype.subscribe=function(e,t,n){(this.subscriptions[n]||(this.subscriptions[n]={}))[t]=e},o.prototype.unsubscription=function(e){r.isFunction(e)&&this.unsubscriptions.push(e)},o.prototype._unsubscribe=function(e){a(e,function(t,n,r){delete e[r][n],this._container._unsubscribe(t,n,this.boundUpdate)},this)},o.prototype._unsubscription=function(e){for(var t=0;t<e.length;t++)e[t]()},o.prototype.unsubscribe=function(){this._unsubscribed||(this._unsubscribe(this.subscriptions),this._unsubscription(this.unsubscriptions),this.parent&&(delete this.parent.children[this.cid],delete this.parent),u.exec.cancel(this._execId),this._unsubscribed=!0,this._unsubscribeChildren(),delete this.children,delete this.subscriptions,delete this.unsubscriptions,delete this._fn,delete this._update,delete this._container,delete this.boundUpdate,delete this.boundUnsubscription)},o.prototype._unsubscribeChildren=function(){for(var e in this.children)this.children[e].unsubscribe()},o.prototype.execute=function(){var e=this._container.subscription;e&&!e._unsubscribed&&(this.parent=this._container.subscription,this.parent.children[this.cid]=this),this._subscriptions=this.subscriptions,this._unsubscription(this.unsubscriptions),this.subscriptions={},this.unsubscriptions=[],this._container.subscription=this;var t=this._fn.apply(this._container,arguments);this._container.subscription=this.parent;var n=this.subscriptions,r=this._subscriptions;return a(n,function(e,t,n){return r[n]&&r[n][t]?delete r[n][t]:void this._container._subscribe(e,t,this.boundUpdate)},this),delete this._subscriptions,this._unsubscribe(r),t},o.prototype.update=function(){return this._triggered||this._unsubscribed?!1:(this._unsubscribeChildren(),this._execId=u.exec(r.bind(function(){delete this._triggered,this._update(this.execute())},this)),this._triggered=!0)};var u=t.exports=r.create(n);u.exec=function(e){return i(e)},u.exec.cancel=function(e){return i.cancel(e)},u.createElement=function(e){return document.createElement(e)},u.setTagName=function(e,t){for(var n=u.createElement(t);e.firstChild;)n.appendChild(e.firstChild);for(var r=0;r<e.attributes.length;r++){var i=e.attributes[r];n.setAttribute(i.name,i.value)}return e.parentNode&&e.parentNode.replaceChild(n,e),n},u.removeAttribute=function(e,t){e.hasAttribute(t)&&(e.removeAttribute(t),s[e.tagName]&&s[e.tagName][t]&&(e[s[e.tagName][t]]=null))},u.setAttribute=function(e,t,n){return n===!1?u.removeAttribute(e,t):(e.setAttribute(t,n===!0?t:n),void(s[e.tagName]&&s[e.tagName][t]&&(e[s[e.tagName][t]]=n)))},u.createComment=function(e){return document.createComment(e)};var c=function(e,t,n){var i=new o(e,n,this);return i.value=i.execute(),r.isFunction(t)&&(i.value=t(i.value)),i},l=function(e){var t=this,n=function(){var n=new o(e,null,t);return n.execute.apply(n,arguments)};return r.extend(n,e),n},p=function(e,t){return c.call(this,e,function(e){return r.trackNode(t(e))},function(e){this.value.replace(t(e))}).value.fragment},f=function(e,t){return c.call(this,e,function(e){return u.createElement(e)},function(e){t(this.value=u.setTagName(this.value,e))}).value},h=function(e,t){try{t&&e.appendChild(t)}catch(n){}},d=function(e,t,n){var r=c.call(this,t,null,function(t){u.removeAttribute(e(),this.value),u.setAttribute(e(),this.value=t,i.value)}),i=c.call(this,n,null,function(t){u.setAttribute(e(),r.value,this.value=t)});return u.setAttribute(e(),r.value,i.value)},b=function(e){return p.call(this,e,r.domifyExpression)},m=function(e){return p.call(this,e,r.textifyExpression)},v=function(e){return c.call(this,e,function(e){return u.createComment(e)},function(e){this.value.textContent=e}).value},g=function(e,t,n){var r=this.programs[e];return n?u.program(e,t,n):r?r:this.programs[e]=u.program(e,t)},y=function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},r.extend(n,t),r.extend(n,e)),n},x=function(e,t,n){return this.subscription.subscribe(e,t,n),this._get(e,t)};u.template=function(e,t){var n={invokePartial:u.invokePartial,programs:[],noop:u.noop,partial:r.partial,wrapProgram:l,get:x,merge:y,program:g,createDOM:b,createText:m,createComment:v,createElement:f,appendChild:h,setAttribute:d,escapeExpression:r.escapeExpression,programWithDepth:u.programWithDepth};return function(i,s){s=s||{};var a,o,u=s.partial?s:t;s.partial||(a=s.helpers,o=s.partials);var c={};r.extend(c,n),c._get=s.get||t.get,c._subscribe=s.subscribe||t.subscribe,c._unsubscribe=s.unsubscribe||t.unsubscribe;var p=l.call(c,e).call(c,u,i,a,o,s.data);return s.partial||t.VM.checkRevision(c.compilerInfo),p}}},{"./raf":4,"./utils":8,"handlebars/dist/cjs/handlebars/runtime":11}],6:[function(e,t){t.exports=e("handlebars/dist/cjs/handlebars/safe-string")["default"]},{"handlebars/dist/cjs/handlebars/safe-string":12}],7:[function(e,t){var n=t.exports=function(e){this.fragment=document.createDocumentFragment(),this.before=this.fragment.appendChild(document.createTextNode("")),this.after=this.fragment.appendChild(document.createTextNode("")),e&&this.appendChild(e)};n.prototype.appendChild=function(e){return this.after.parentNode&&this.after.parentNode.insertBefore(e,this.after),this},n.prototype.prependChild=function(e){return this.before.parentNode.insertBefore(e,this.before.nextSibling),this},n.prototype.empty=function(){for(;this.before.nextSibling&&this.before.nextSibling!==this.after;)this.before.parentNode.removeChild(this.before.nextSibling);return this},n.prototype.remove=function(){for(;this.before.nextSibling&&this.before.nextSibling!==this.after;)this.fragment.appendChild(this.before.nextSibling);return this.fragment.appendChild(this.after),this.fragment.insertBefore(this.before,this.fragment.firstChild),this},n.prototype.replace=function(e){return this.empty().appendChild(e)}},{}],8:[function(e,t){var n=e("handlebars/dist/cjs/handlebars/utils"),r=0,i=e("./track-node"),s=e("./safe-string"),a=Array.prototype.slice,o=Object.create||function(){var e=function(){};return function(t){e.prototype=t;var n=new e;return e.prototype=null,n}}(),u=t.exports=o(n);u.uniqueId=function(){return r++},u.variadic=function(e){var t=Math.max(e.length-1,0);return function(){var n=a.call(arguments,0,t);return n.length=t,n.push(a.call(arguments,t)),e.apply(this,n)}},u.partial=u.variadic(function(e,t){return u.variadic(function(n){return e.apply(this,t.concat(n))})}),u.bind=u.variadic(function(e,t,n){return u.variadic(function(r){return e.apply(t,n.concat(r))})}),u.create=o,u.isNode=function(e){return"object"==typeof e&&e.ownerDocument===window.document},u.trackNode=function(e){return new i(e)},u.domifyExpression=function(e){if(e instanceof s&&(e=e.string),u.isNode(e))return e;var t=document.createElement("div");if(t.innerHTML=e,1===t.childNodes.length)return t.removeChild(t.childNodes[0]);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},u.textifyExpression=function(e){if(e instanceof s)return u.domifyExpression(e.string);if(u.isNode(e)){if(3===e.nodeType)return e;if("string"==typeof e.outerHTML)return document.createTextNode(e.outerHTML);var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),document.createTextNode(t.innerHTML)}return document.createTextNode(null==e?"":e)}},{"./safe-string":6,"./track-node":7,"handlebars/dist/cjs/handlebars/utils":13}],9:[function(e,t,n){"use strict";function r(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new o("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},i=n.fn;return f(t)&&(t=t.call(this)),t===!0?i(this):t===!1||null==t?r(this):p(t)?t.length>0?e.helpers.each(t,n):r(this):i(t)}),e.registerHelper("each",function(e,t){var n,r=t.fn,i=t.inverse,s=0,a="";if(f(e)&&(e=e.call(this)),t.data&&(n=m(t.data)),e&&"object"==typeof e)if(p(e))for(var o=e.length;o>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1),a+=r(e[s],{data:n});else for(var u in e)e.hasOwnProperty(u)&&(n&&(n.key=u,n.index=s,n.first=0===s),a+=r(e[u],{data:n}),s++);return 0===s&&(a=i(this)),a}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return f(e)&&(e=e.call(this)),a.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)})}function s(e,t){b.log(e,t)}var a=e("./utils"),o=e("./exception")["default"],u="1.3.0";n.VERSION=u;var c=4;n.COMPILER_REVISION=c;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};n.REVISION_CHANGES=l;var p=a.isArray,f=a.isFunction,h=a.toString,d="[object Object]";n.HandlebarsEnvironment=r,r.prototype={constructor:r,logger:b,log:s,registerHelper:function(e,t,n){if(h.call(e)===d){if(n||t)throw new o("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){h.call(e)===d?a.extend(this.partials,e):this.partials[e]=t}};var b={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(b.level<=e){var n=b.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};n.logger=b,n.log=s;var m=function(e){var t={};return a.extend(t,e),t};n.createFrame=m},{"./exception":10,"./utils":13}],10:[function(e,t,n){"use strict";function r(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),s=0;s<i.length;s++)this[i[s]]=r[i[s]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var i=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,n["default"]=r},{}],11:[function(e,t,n){"use strict";function r(e){var t=e&&e[0]||1,n=p;if(t!==n){if(n>t){var r=f[n],i=f[t];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new l("No environment passed to template");var n=function(e,n,r,i,s,a){var o=t.VM.invokePartial.apply(this,arguments);if(null!=o)return o;if(t.compile){var u={helpers:i,partials:s,data:a};return s[n]=t.compile(e,{data:void 0!==a},t),s[n](r,u)}throw new l("The partial "+n+" could not be compiled when running in runtime-only mode")},r={escapeExpression:c.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=a(e,t,n):r||(r=this.programs[e]=a(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},c.extend(n,t),c.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,i){i=i||{};var s,a,o=i.partial?i:t;i.partial||(s=i.helpers,a=i.partials);var u=e.call(r,o,n,s,a,i.data);return i.partial||t.VM.checkRevision(r.compilerInfo),u}}function s(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i}function a(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r}function o(e,t,n,r,i,s){var a={partial:!0,helpers:r,partials:i,data:s};if(void 0===e)throw new l("The partial "+t+" could not be found");return e instanceof Function?e(n,a):void 0}function u(){return""}var c=e("./utils"),l=e("./exception")["default"],p=e("./base").COMPILER_REVISION,f=e("./base").REVISION_CHANGES;n.checkRevision=r,n.template=i,n.programWithDepth=s,n.program=a,n.invokePartial=o,n.noop=u},{"./base":9,"./exception":10,"./utils":13}],12:[function(e,t,n){"use strict";function r(e){this.string=e}r.prototype.toString=function(){return""+this.string},n["default"]=r},{}],13:[function(e,t,n){"use strict";function r(e){return u[e]||"&amp;"}function i(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function s(e){return e instanceof o?e.toString():e||0===e?(e=""+e,l.test(e)?e.replace(c,r):e):""}function a(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}var o=e("./safe-string")["default"],u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,l=/[&<>"'`]/;n.extend=i;var p=Object.prototype.toString;n.toString=p;var f=function(e){return"function"==typeof e};f(/x/)&&(f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)});var f;n.isFunction=f;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};n.isArray=h,n.escapeExpression=s,n.isEmpty=a},{"./safe-string":12}]},{},[1])(1)});