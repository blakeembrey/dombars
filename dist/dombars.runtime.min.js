!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.DOMBars=a():"undefined"!=typeof global?global.DOMBars=a():"undefined"!=typeof self&&(self.DOMBars=a())}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("handlebars/lib/handlebars/base");c.create=function(){var a=d.create.apply(this,arguments);return a.subscribe=a.unsubscribe=function(){},a.get=function(a,b){return a[b]},a.registerHelper("each",function(b,c){var d,e=c.fn,f=c.inverse,g=document.createDocumentFragment(),h=0;if("function"==typeof b&&(b=b.call(this)),c.data&&(d=a.createFrame(c.data)),"object"==typeof b){var i=b.length;if(i===+i)for(;i>h;h++)d&&(d.index=h),g.appendChild(e(b[h],{data:d}));else for(var j in b)b.hasOwnProperty(j)&&(h+=1,d&&(d.key=j),g.appendChild(e(b[j],{data:d})))}return 0===h?f(this):g}),a}},{"handlebars/lib/handlebars/base":5}],2:[function(a,b){var c=b.exports={};c.on=function(a,b,c){this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({fn:b,context:c}),this},c.once=function(a,b,c){var d=this;return this.on(a,function e(){d.off(a,e),b.apply(this,arguments)},c)},c.off=function(a,b,c){if(!this._events||!this._events[a])return this;if(arguments.length<2)return a?delete this._events[a]:delete this._events,this;for(var d=this._events[a],e=0;e<d.length;e++)d[e].fn===b&&(2===arguments.length||d[e].context===c)&&(d.splice(e,1),e--);return d.length||delete this._events[a],this},c.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=this._events&&this._events[a]&&this._events[a].slice();if(c)for(var d=0;d<c.length;d++)c[d].fn.apply(c[d].context,b);return this}},{}],3:[function(a,b,c){var d=a("handlebars/lib/handlebars/runtime"),e="undefined"!=typeof window,f=e&&a("raf-component");c.attach=function(a){var b=d.attach(a).VM,c=a.Utils;b.exec=function(a){return e?f(a):setImmediate(a)},b.exec.cancel=function(a){return e?f.cancel(a):clearImmediate(a)},b.subscribe=function(d){var e=function(){var b=e.exec.apply(this,arguments);return g(e.subscriptions,a.subscribe),b};e.cid="subscriber"+c.uniqueId(),e.children={};var f=function(){e.triggered||e.unsubscribed||(e.triggered=!0,e.unsubscribeChildren(),e._exec=b.exec(function(){e.beforeUpdate(),e.update(e.exec()),e.afterUpdate(),delete e.triggered}))},g=function(a,b){for(var c in a)for(var d in a[c])b(a[c][d],c,f)},h=function(a){for(var b=0;b<a.length;b++)a[b]()};return e.exec=function(){b.subscriber&&(e.parent=b.subscriber,b.subscriber.children[e.cid]=e),b.subscriber=e,b.unsubscribe=function(a){e.unsubscriptions.push(a)},e.subscriptions={},e.unsubscriptions=[];var a=d.apply(this,arguments);return b.subscriber=e.parent,b.unsubscribe=null,a},e.beforeUpdate=function(){h(e.unsubscriptions),e.prevSubscriptions=e.subscriptions},e.afterUpdate=function(){var b=e.subscriptions;for(var c in b)for(var d in b[c])e.prevSubscriptions[c][d]?delete e.prevSubscriptions[c][d]:a.subscribe(b[c][d],c,f);g(e.prevSubscriptions,a.unsubscribe),delete e.prevSubscriptions},e.unsubscribe=function(){h(e.unsubscriptions),g(e.subscriptions,a.unsubscribe),e.parent&&(delete e.parent.children[e.cid],delete e.parent),e.unsubscribed=!0,b.exec.cancel(e._exec),e.unsubscribeChildren()},e.unsubscribeChildren=function(){for(var a in e.children)e.children[a].unsubscribe()},e};var g=function(a,c){var d=b.subscribe(a),e={after:document.createTextNode(""),before:document.createTextNode("")},f=function(a){var b=document.createDocumentFragment();return b.appendChild(e.before),b.appendChild(c(a)),b.appendChild(e.after),b};return d.update=function(a){for(var b=e.before.parentNode,c=b.childNodes,d=0;d<b.childNodes.length;d++)if(c[d]===e.before){do b.removeChild(c[d]);while(c[d]!==e.after);var g=e.after.nextSibling;b.insertBefore(f(a),g);break}},f(d())};return b.createElement=function(a,d){var e=b.subscribe(a),f=c.createElement(e());return e.update=function(a){d(f=c.copyAndReplaceNode(c.createElement(a),f))},f},b.setAttribute=function(a,d,e){var f=b.subscribe(d),g=b.subscribe(e),h=f(),i=g();return f.update=function(b){c.removeAttribute(a(),h),c.setAttribute(a(),h=b,i)},g.update=function(b){c.setAttribute(a(),h,i=b)},c.setAttribute(a(),h,i)},b.createDOM=function(a){return g(a,c.domifyExpression)},b.createText=function(a){return g(a,c.textifyExpression)},b.createComment=function(a){var d=b.subscribe(a),e=c.createComment(d());return d.update=function(a){e.textContent=a},e},b.template=a.template=function(a){var d=this,e={invokePartial:b.invokePartial,programs:[],noop:b.noop,compilerInfo:null,appendChild:c.appendChild,createDOM:b.createDOM,createText:b.createText,setAttribute:b.setAttribute,createComment:b.createComment,createElement:b.createElement,escapeExpression:c.escapeExpression,programWithDepth:b.programWithDepth};return e.program=function(a,c,d){var e=this.programs[a];return d?b.program(a,c,d):e?e:this.programs[a]=b.program(a,c)},e.merge=function(a,b){var d=a||b;return a&&b&&(d={},c.extend(d,b),c.extend(d,a)),d},e.get=function(a,c,e){var f=b.subscriber.subscriptions;return(f[c]||(f[c]={}))[e]=a,d.get(a,c)},function(c,f){f=f||{};var g=b.subscribe(a),h=g.call(e,d,c,f.helpers,f.partials,f.data);b.context=c,h.unsubscribe=g.unsubscribe;var i=e.compilerInfo||[],j=i[0]||1,k=d.COMPILER_REVISION;if(j!==k){if(k>j){var l=d.REVISION_CHANGES[k],m=d.REVISION_CHANGES[j];throw new Error("Template was precompiled with an older version of DOMBars than the current runtime. Please update your precompiler to a newer version ("+l+") or downgrade your runtime to an older version ("+m+")")}throw new Error("Template was precompiled with a newer version ofDOMBars than the current runtime. Please update your runtime to a newer version ("+i[1]+")")}return b.context=null,h}},a}},{"handlebars/lib/handlebars/runtime":6,"raf-component":8}],4:[function(a,b,c){var d=a("handlebars/lib/handlebars/utils"),e=a("./compiler/events"),f=0;c.attach=function(a){var b=d.attach(a).Utils;a.Utils.extend(a,e);var c=function(b,c){return function(){var d=b.apply(this,arguments);return a.emit(c,d),d}};return b.uniqueId=function(){return f++},b.isNode=function(a){return a instanceof Node},b.createElement=c(function(a){return document.createElement(a)},"createElement"),b.createComment=c(function(a){return document.createComment(a)},"createComment"),b.copyNode=function(a,c){for(;c.firstChild;)a.appendChild(c.firstChild);for(var d=0;d<c.attributes.length;d++){var e=c.attributes[d];b.setAttribute(a,e.name,e.value)}return a},b.copyAndReplaceNode=function(a,c){return c.parentNode.replaceChild(b.copyNode(a,c),c),a},b.setAttribute=function(c,d,e){return e===!1?b.removeAttribute(c,d):(a.emit("setAttribute",c,d,e),c.setAttribute(d,e),void 0)},b.removeAttribute=function(b,c){b.hasAttribute(c)&&(a.emit("removeAttribute",b,c),b.removeAttribute(c))},b.appendChild=function(b,c){null!=c&&(b.appendChild(c),a.emit("appendChild",b,c))},b.domifyExpression=c(function(a){if(b.isNode(a))return a;var c=document.createElement("div");if(c.innerHTML=a,1===c.childNodes.length)return c.removeChild(c.childNodes[0]);for(var d=document.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return d},"domify"),b.textifyExpression=c(function(c){if(c instanceof a.SafeString)return b.domifyExpression(c.toString());if(b.isNode(c)){if(3===c.nodeType)return c;if("string"==typeof c.outerHTML)return document.createTextNode(c.outerHTML);var d=document.createElement("div");return d.appendChild(c.cloneNode(!0)),document.createTextNode(d.innerHTML)}return document.createTextNode(null==c?"":c)},"textify"),a}},{"./compiler/events":2,"handlebars/lib/handlebars/utils":7}],5:[function(a,b){b.exports.create=function(){var a={};a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var b=Object.prototype.toString,c="[object Function]",d="[object Object]";return a.registerHelper=function(c,e,f){if(b.call(c)===d){if(f||e)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,c)}else f&&(e.not=f),this.helpers[c]=e},a.registerPartial=function(c,e){b.call(c)===d?a.Utils.extend(this.partials,c):this.partials[c]=e},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(d,e){var f=e.inverse||function(){},g=e.fn,h=b.call(d);return h===c&&(d=d.call(this)),d===!0?g(this):d===!1||null==d?f(this):"[object Array]"===h?d.length>0?a.helpers.each(d,e):f(this):g(d)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(d,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=b.call(d);if(k===c&&(d=d.call(this)),e.data&&(f=a.createFrame(e.data)),d&&"object"==typeof d)if(d instanceof Array)for(var l=d.length;l>i;i++)f&&(f.index=i),j+=g(d[i],{data:f});else for(var m in d)d.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(d[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(d,e){var f=b.call(d);return f===c&&(d=d.call(this)),!d||a.Utils.isEmpty(d)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(d,e){var f=b.call(d);return f===c&&(d=d.call(this)),a.Utils.isEmpty(d)?void 0:e.fn(d)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a}},{}],6:[function(a,b,c){c.attach=function(a){return a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(b,c,d,e,f,g){var h={helpers:e,partials:f,data:g};if(void 0===b)throw new a.Exception("The partial "+c+" could not be found");if(b instanceof Function)return b(d,h);if(a.compile)return f[c]=a.compile(b,{data:void 0!==g}),f[c](d,h);throw new a.Exception("The partial "+c+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template,a}},{}],7:[function(a,b,c){c.attach=function(a){var b=Object.prototype.toString,c=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<c.length;b++)this[c[b]]=a[c[b]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=/[&<>"'`]/g,f=/[&<>"'`]/,g=function(a){return d[a]||"&amp;"};return a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),f.test(b)?b.replace(e,g):b)},isEmpty:function(a){return a||0===a?"[object Array]"===b.call(a)&&0===a.length?!0:!1:!0}},a}},{}],8:[function(a,b,c){function d(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-e)),d=setTimeout(a,c);return e=b,d}c=b.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||d;var e=(new Date).getTime(),f=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;c.cancel=function(a){f.call(window,a)}},{}],9:[function(a,b){var c=a("./lib/base"),d=a("./lib/utils"),e=a("./lib/runtime");b.exports=function f(){var a=c.create();return d.attach(a),e.attach(a),a.create=f,a}()},{"./lib/base":1,"./lib/runtime":3,"./lib/utils":4}]},{},[9])(9)});